---
layout: assembly
---
# セクション

プログラムデータ配置のセクショニングの、H8/300H シリーズでアセンブラを書くにあたっての項目

## セクションとは

ROM, RAM 等をどう割り当てて、何に使うか。

textセクションには機械語が乗る。

stringsセクションにはプログラム中から参照される定数が置かれる。

bssセクションは静的変数のために使う。値は宣言したときの数値で初期化されない(Cの仕様ではゼロで初期化される[^1])。

## アセンブラでの記述

```ASM
    .section    .text

    ;; ここにプログラムを書く

    .section    .bss

    ;; グローバル変数にあたるものはここに置く

    .section    .strings

    ;; 定数はここに書く
```

align とか気にする必要があるけれども、アセンブラコードの中ではセクションを中身ごと順番を変えたりいくつも置いたりしてよい。(最終的に切り貼りされてきちんと配置される。)

[^1]: http://ertl.jp/~takayuki/readings/info/no03.html